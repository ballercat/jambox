# Snapshot report for `src/__tests__/cache.test.mjs`

The actual snapshot is saved in `cache.test.mjs.snap`.

Generated by [AVA](https://avajs.dev).

## Hashing: Cache.hash()

> Hashing should have a consistent value

    'de11b3a437364746f107f26b6f08ec02'

## observing cache changes

> Snapshot 1

    [
      {
        payload: {
          request: {
            body: {
              getText: AsyncFunction [],
            },
            id: '123456',
            url: 'https://foo.bar',
          },
        },
        type: 'cache.stage',
      },
      {
        payload: {
          id: 'de11b3a437364746f107f26b6f08ec02',
          request: {
            body: {
              getText: AsyncFunction [],
            },
            id: '123456',
            url: 'https://foo.bar',
          },
          response: {
            id: '123456',
          },
        },
        type: 'cache.commit',
      },
      {
        payload: {
          id: 'de11b3a437364746f107f26b6f08ec02',
          request: {
            body: {
              getText: AsyncFunction [],
            },
            id: '123456',
            url: 'https://foo.bar',
          },
          response: {
            id: '123456',
          },
        },
        type: 'cache.revert',
      },
    ]

## reading cache

> Snapshot 1

    {
      request: {
        body: {
          buffer: Buffer @Uint8Array [
            7b227175 65727922 3a227175 65727920 506f6b65 6d6f6e28 246e616d 653a2053
            7472696e 6729207b 5c6e2070 6f6b656d 6f6e286e 616d653a 20246e61 6d652920
            7b5c6e20 20206e61 6d655c6e 20202069 6d616765 5c6e207d 5c6e7d22 2c227661
            72696162 6c657322 3a7b226e 616d6522 3a22536c 6f77706f 6b65227d 7d
          ],
          getDecodedBuffer: Function getDecodedBuffer {},
          getJson: AsyncFunction [],
          getText: AsyncFunction [],
        },
        headers: {
          accept: 'application/json',
          'accept-encoding': 'gzip, deflate, br',
          'accept-language': 'en-US,en;q=0.9',
          connection: 'keep-alive',
          'content-length': '125',
          'content-type': 'application/json',
          host: 'graphql-pokemon2.vercel.app',
          origin: 'https://jambox-demo-graphql.vercel.app',
          referer: 'https://jambox-demo-graphql.vercel.app/',
          'sec-ch-ua': '"Not?A_Brand";v="8", "Chromium";v="108"',
          'sec-ch-ua-mobile': '?0',
          'sec-ch-ua-platform': '"Linux"',
          'sec-fetch-dest': 'empty',
          'sec-fetch-mode': 'cors',
          'sec-fetch-site': 'cross-site',
          'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36',
        },
        httpVersion: '1.1',
        id: 'ebf337e5-ccdf-46be-b629-4651fefa8ad7',
        matchedRuleId: '2963a70a-837b-4563-bc96-e9049673f097',
        method: 'POST',
        path: '/',
        protocol: 'https',
        rawHeaders: [
          [
            'Host',
            'graphql-pokemon2.vercel.app',
          ],
          [
            'Connection',
            'keep-alive',
          ],
          [
            'Content-Length',
            '125',
          ],
          [
            'sec-ch-ua',
            '"Not?A_Brand";v="8", "Chromium";v="108"',
          ],
          [
            'Accept',
            'application/json',
          ],
          [
            'Content-Type',
            'application/json',
          ],
          [
            'sec-ch-ua-mobile',
            '?0',
          ],
          [
            'User-Agent',
            'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36',
          ],
          [
            'sec-ch-ua-platform',
            '"Linux"',
          ],
          [
            'Origin',
            'https://jambox-demo-graphql.vercel.app',
          ],
          [
            'Sec-Fetch-Site',
            'cross-site',
          ],
          [
            'Sec-Fetch-Mode',
            'cors',
          ],
          [
            'Sec-Fetch-Dest',
            'empty',
          ],
          [
            'Referer',
            'https://jambox-demo-graphql.vercel.app/',
          ],
          [
            'Accept-Encoding',
            'gzip, deflate, br',
          ],
          [
            'Accept-Language',
            'en-US,en;q=0.9',
          ],
        ],
        remoteIpAddress: '::1',
        remotePort: 50448,
        tags: [],
        timingEvents: {
          bodyReceivedTimestamp: 2040118.9439219981,
          startTime: 1673212233255,
          startTimestamp: 2040117.9996999986,
        },
        url: 'https://graphql-pokemon2.vercel.app/',
      },
      response: {
        body: {
          buffer: Buffer @Uint8Array [
            7b226461 7461223a 7b22706f 6b656d6f 6e223a7b 226e616d 65223a22 536c6f77
            706f6b65 222c2269 6d616765 223a2268 74747073 3a2f2f69 6d672e70 6f6b656d
            6f6e6462 2e6e6574 2f617274 776f726b 2f736c6f 77706f6b 652e6a70 67227d7d
            7d
          ],
          getDecodedBuffer: Function getDecodedBuffer {},
          getJson: AsyncFunction [],
          getText: AsyncFunction [],
        },
        headers: {
          'access-control-allow-methods': 'GET,HEAD,PUT,POST,DELETE',
          'access-control-allow-origin': 'https://jambox-demo-graphql.vercel.app',
          'cache-control': 'public, max-age=0, must-revalidate',
          connection: 'keep-alive',
          'content-length': '97',
          'content-type': 'application/json; charset=utf-8',
          date: 'Sun, 08 Jan 2023 21:10:33 GMT',
          server: 'Vercel',
          'strict-transport-security': 'max-age=63072000; includeSubDomains; preload',
          'x-vercel-cache': 'MISS',
          'x-vercel-id': 'iad1::sfo1::qnkr7-1673212233783-e24fced79c98',
        },
        id: 'ebf337e5-ccdf-46be-b629-4651fefa8ad7',
        rawHeaders: [
          [
            'Access-Control-Allow-Methods',
            'GET,HEAD,PUT,POST,DELETE',
          ],
          [
            'Access-Control-Allow-Origin',
            'https://jambox-demo-graphql.vercel.app',
          ],
          [
            'Cache-Control',
            'public, max-age=0, must-revalidate',
          ],
          [
            'Connection',
            'keep-alive',
          ],
          [
            'Content-Length',
            '97',
          ],
          [
            'Content-Type',
            'application/json; charset=utf-8',
          ],
          [
            'Date',
            'Sun, 08 Jan 2023 21:10:33 GMT',
          ],
          [
            'Server',
            'Vercel',
          ],
          [
            'Strict-Transport-Security',
            'max-age=63072000; includeSubDomains; preload',
          ],
          [
            'X-Vercel-Cache',
            'MISS',
          ],
          [
            'X-Vercel-Id',
            'iad1::sfo1::qnkr7-1673212233783-e24fced79c98',
          ],
        ],
        statusCode: 200,
        statusMessage: 'OK',
        tags: [],
        timingEvents: {
          bodyReceivedTimestamp: 2040118.9439219981,
          headersSentTimestamp: 2040368.6721789986,
          responseSentTimestamp: 2040372.3621459976,
          startTime: 1673212233255,
          startTimestamp: 2040117.9996999986,
        },
      },
    }
